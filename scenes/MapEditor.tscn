[gd_scene load_steps=14 format=3 uid="uid://bmvl0mmvq2xrt"]

[ext_resource type="Script" uid="uid://b4bjbpkgyull3" path="res://scripts/map_editor.gd" id="1_fxgqh"]
[ext_resource type="Script" uid="uid://bhfxbci4dpeyx" path="res://scripts/camera_controller.gd" id="2_rwdrj"]
[ext_resource type="PackedScene" uid="uid://c1j0jj480jij5" path="res://scenes/HexGrid.tscn" id="2_y6um0"]
[ext_resource type="PackedScene" uid="uid://bo6ei0t8ag4st" path="res://scenes/GhostTile.tscn" id="3_cio15"]
[ext_resource type="Script" uid="uid://bwr2dtr05y1dy" path="res://scripts/top_bar.gd" id="4_2jvji"]
[ext_resource type="Environment" uid="uid://dj268r1axdpa0" path="res://default_env.tres" id="4_rwdrj"]
[ext_resource type="FontFile" uid="uid://c81ebf4wibc8j" path="res://fonts/Font Awesome 7 Sharp-Regular-400.otf" id="5_2jvji"]
[ext_resource type="PackedScene" uid="uid://cp32jgyyj222g" path="res://scenes/TileBrowser.tscn" id="7_y6um0"]
[ext_resource type="Script" uid="uid://bdu0hb2so2dbe" path="res://scripts/layer_selector.gd" id="8_cio15"]
[ext_resource type="FontFile" uid="uid://dwcywqgwut513" path="res://fonts/IMFellEnglishSC-Regular.ttf" id="9_uxhdd"]
[ext_resource type="Script" uid="uid://dsmaugvoqml4p" path="res://scripts/day_night_cycle.gd" id="10_sa2v6"]

[node name="MapEditor" type="Node3D" groups=["terrain_generator"]]
script = ExtResource("1_fxgqh")

[node name="CameraPivot" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="CameraPivot" groups=["main_camera"]]
script = ExtResource("2_rwdrj")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("4_rwdrj")

[node name="DayNightCycle" type="Node3D" parent="." node_paths=PackedStringArray("sun_pivot", "moon_pivot", "world_env")]
script = ExtResource("10_sa2v6")
sun_pivot = NodePath("SunPivot")
moon_pivot = NodePath("MoonPivot")
world_env = NodePath("../WorldEnvironment")

[node name="SunPivot" type="Node3D" parent="DayNightCycle"]

[node name="MoonPivot" type="Node3D" parent="DayNightCycle"]

[node name="Layers" type="Node3D" parent="."]

[node name="TerrainLayer" type="Node3D" parent="Layers"]

[node name="BuildingLayer" type="Node3D" parent="Layers"]

[node name="ResourceLayer" type="Node3D" parent="Layers"]

[node name="HexGrid" parent="." instance=ExtResource("2_y6um0")]

[node name="GhostTile" parent="." instance=ExtResource("3_cio15")]

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TopBar" type="HBoxContainer" parent="UI"]
custom_minimum_size = Vector2(0, 28)
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 19.0
grow_horizontal = 2
script = ExtResource("4_2jvji")

[node name="LabelTileIcon" type="Label" parent="UI/TopBar"]
layout_mode = 2
theme_override_fonts/font = ExtResource("5_2jvji")
text = ""

[node name="LabelTile" type="Label" parent="UI/TopBar"]
layout_mode = 2
text = "test"

[node name="LabelCameraIcon" type="Label" parent="UI/TopBar"]
layout_mode = 2
theme_override_fonts/font = ExtResource("5_2jvji")
text = ""

[node name="LabelCamera" type="Label" parent="UI/TopBar"]
layout_mode = 2
text = "test"

[node name="LabelHeightIcon" type="Label" parent="UI/TopBar"]
layout_mode = 2
theme_override_fonts/font = ExtResource("5_2jvji")
text = ""

[node name="LabelHeight" type="Label" parent="UI/TopBar"]
layout_mode = 2
text = "test"

[node name="LabelFPSIcon" type="Label" parent="UI/TopBar"]
layout_mode = 2
theme_override_fonts/font = ExtResource("5_2jvji")
text = ""

[node name="LabelFPS" type="Label" parent="UI/TopBar"]
layout_mode = 2
text = "test"

[node name="LabelLayerIcon" type="Label" parent="UI/TopBar"]
layout_mode = 2
theme_override_fonts/font = ExtResource("5_2jvji")
text = ""

[node name="LabelLayer" type="Label" parent="UI/TopBar"]
layout_mode = 2
theme_override_fonts/font = ExtResource("9_uxhdd")
text = "test"

[node name="LabelMapIcon" type="Label" parent="UI/TopBar"]
layout_mode = 2
theme_override_fonts/font = ExtResource("5_2jvji")
text = ""

[node name="LabelMap" type="Label" parent="UI/TopBar"]
layout_mode = 2
theme_override_fonts/font = ExtResource("9_uxhdd")
text = "test"

[node name="VBoxContainer" type="VBoxContainer" parent="UI"]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -153.0
grow_horizontal = 2
grow_vertical = 0

[node name="LayerSelector" type="Control" parent="UI/VBoxContainer"]
custom_minimum_size = Vector2(0, 32)
layout_mode = 2
script = ExtResource("8_cio15")

[node name="HBoxContainer" type="HBoxContainer" parent="UI/VBoxContainer/LayerSelector"]
layout_mode = 0
offset_top = -9.0
offset_right = 201.0
offset_bottom = 31.0

[node name="TerrainButton" type="Button" parent="UI/VBoxContainer/LayerSelector/HBoxContainer"]
layout_mode = 2
text = "Terrain"

[node name="BuildingButton" type="Button" parent="UI/VBoxContainer/LayerSelector/HBoxContainer"]
layout_mode = 2
text = "Bâtiments"

[node name="ResourceButton" type="Button" parent="UI/VBoxContainer/LayerSelector/HBoxContainer"]
layout_mode = 2
text = "Décorations"

[node name="TileBrowser" parent="UI/VBoxContainer" instance=ExtResource("7_y6um0")]
layout_mode = 2
size_flags_vertical = 3

[node name="VBoxContainer2" type="VBoxContainer" parent="UI"]
custom_minimum_size = Vector2(300, 0)
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 2

[node name="FoldableMap" type="FoldableContainer" parent="UI/VBoxContainer2"]
layout_mode = 2
folded = true
title = "Map"
title_alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="UI/VBoxContainer2/FoldableMap"]
visible = false
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer"]
layout_mode = 2

[node name="MapNameLabel" type="Label" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "Name"

[node name="MapNameValue" type="Label" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "test"

[node name="HBoxContainer2" type="HBoxContainer" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer"]
layout_mode = 2

[node name="MapRadiusLabel" type="Label" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer/HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
text = "Radius"

[node name="MapRadiusValue" type="Label" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer/HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
text = "test"

[node name="HBoxContainer3" type="HBoxContainer" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer"]
layout_mode = 2

[node name="MapGridLabel" type="Label" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer/HBoxContainer3"]
layout_mode = 2
size_flags_horizontal = 3
text = "Grid"

[node name="MapGridValue" type="Label" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer/HBoxContainer3"]
layout_mode = 2
size_flags_horizontal = 3
text = "test"

[node name="HBoxContainer4" type="HBoxContainer" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer"]
layout_mode = 2

[node name="SaveMapButton" type="Button" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer/HBoxContainer4"]
layout_mode = 2
size_flags_horizontal = 3
text = "Save"

[node name="CloseMapButton" type="Button" parent="UI/VBoxContainer2/FoldableMap/VBoxContainer/HBoxContainer4"]
layout_mode = 2
size_flags_horizontal = 3
text = "Close"

[node name="FoldableMinimap" type="FoldableContainer" parent="UI/VBoxContainer2"]
layout_mode = 2
folded = true
title = "Minimap"
title_alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="UI/VBoxContainer2/FoldableMinimap"]
visible = false
layout_mode = 2

[node name="MinimapPanel" type="Panel" parent="UI/VBoxContainer2/FoldableMinimap/VBoxContainer"]
custom_minimum_size = Vector2(0, 300)
layout_mode = 2
metadata/_tab_index = 0

[node name="FoldableCamera" type="FoldableContainer" parent="UI/VBoxContainer2"]
layout_mode = 2
folded = true
title = "Camera"
title_alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="UI/VBoxContainer2/FoldableCamera"]
visible = false
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="UI/VBoxContainer2/FoldableCamera/VBoxContainer"]
layout_mode = 2

[node name="XCameraLabel" type="Label" parent="UI/VBoxContainer2/FoldableCamera/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "x"

[node name="XCameraValue" type="Label" parent="UI/VBoxContainer2/FoldableCamera/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "test"

[node name="HBoxContainer2" type="HBoxContainer" parent="UI/VBoxContainer2/FoldableCamera/VBoxContainer"]
layout_mode = 2

[node name="ZCameraLabel" type="Label" parent="UI/VBoxContainer2/FoldableCamera/VBoxContainer/HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
text = "z"

[node name="ZCameraValue" type="Label" parent="UI/VBoxContainer2/FoldableCamera/VBoxContainer/HBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
text = "test"

[node name="HBoxContainer3" type="HBoxContainer" parent="UI/VBoxContainer2/FoldableCamera/VBoxContainer"]
layout_mode = 2

[node name="YCameraLabel" type="Label" parent="UI/VBoxContainer2/FoldableCamera/VBoxContainer/HBoxContainer3"]
layout_mode = 2
size_flags_horizontal = 3
text = "y"

[node name="YCameraValue" type="Label" parent="UI/VBoxContainer2/FoldableCamera/VBoxContainer/HBoxContainer3"]
layout_mode = 2
size_flags_horizontal = 3
text = "test"

[node name="FoldableTiles" type="FoldableContainer" parent="UI/VBoxContainer2"]
layout_mode = 2
size_flags_vertical = 3
folded = true
title = "Tiles"
title_alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="UI/VBoxContainer2/FoldableTiles"]
visible = false
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="UI/VBoxContainer2/FoldableTiles/VBoxContainer"]
layout_mode = 2

[node name="TileLayerLabel" type="Label" parent="UI/VBoxContainer2/FoldableTiles/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "Layer"

[node name="TileLayerValue" type="Label" parent="UI/VBoxContainer2/FoldableTiles/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "test"

[node name="TabContainer" type="TabContainer" parent="UI/VBoxContainer2/FoldableTiles/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
current_tab = 0

[node name="Terrain" type="Panel" parent="UI/VBoxContainer2/FoldableTiles/VBoxContainer/TabContainer"]
custom_minimum_size = Vector2(0, 300)
layout_mode = 2
metadata/_tab_index = 0

[node name="Buildings" type="Panel" parent="UI/VBoxContainer2/FoldableTiles/VBoxContainer/TabContainer"]
visible = false
custom_minimum_size = Vector2(0, 300)
layout_mode = 2
metadata/_tab_index = 1

[node name="Decorations" type="Panel" parent="UI/VBoxContainer2/FoldableTiles/VBoxContainer/TabContainer"]
visible = false
custom_minimum_size = Vector2(0, 300)
layout_mode = 2
metadata/_tab_index = 2

[connection signal="pressed" from="UI/VBoxContainer/LayerSelector/HBoxContainer/TerrainButton" to="UI/VBoxContainer/LayerSelector" method="_on_TerrainButton_pressed"]
[connection signal="pressed" from="UI/VBoxContainer/LayerSelector/HBoxContainer/BuildingButton" to="UI/VBoxContainer/LayerSelector" method="_on_BuildingButton_pressed"]
[connection signal="pressed" from="UI/VBoxContainer/LayerSelector/HBoxContainer/ResourceButton" to="UI/VBoxContainer/LayerSelector" method="_on_ResourceButton_pressed"]
